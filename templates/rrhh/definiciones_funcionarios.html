{% extends "base.html" %}

{% block breadcrumb %}
Recursos Humanos / Definiciones / Funcionarios
{% endblock %}

{% block content %}
<div id="modalFuncionario" class="modal">
    <div class="modal-content large">
        <div class="modal-header">
            <h3 id="modalFuncionarioTitle">Nuevo Funcionario</h3>
            <span class="close" onclick="cerrarModal('modalFuncionario')">&times;</span>
        </div>
        <form id="formFuncionario" class="modal-body">
            <input type="hidden" id="funcionario_id" name="id">
            <div class="form-grid">
                <div class="form-group">
                    <label>Nombres</label>
                    <input type="text" name="nombre" class="form-control" required>
                </div>
                <div class="form-group">
                    <label>Apellidos</label>
                    <input type="text" name="apellido" class="form-control" required>
                </div>
                <div class="form-group">
                    <label>N° de Documento</label>
                    <input type="text" name="documento" class="form-control" required>
                </div>
                 <div class="form-group">
                    <label>Fecha de Ingreso</label>
                    <input type="date" name="fecha_ingreso" class="form-control" required>
                </div>
                <div class="form-group">
                    <label>Usuario</label>
                    <input type="text" name="usuario" class="form-control" required>
                </div>
                <div class="form-group">
                    <label>Contraseña</label>
                    <input type="password" name="password" class="form-control" placeholder="Dejar en blanco para no cambiar">
                </div>
                <div class="form-group">
                    <label>Cargo</label>
                    <select name="cargo_id" class="form-control"></select>
                </div>
                <div class="form-group">
                    <label>Estado</label>
                    <select name="estado" class="form-control">
                        <option value="activo">Activo</option>
                        <option value="inactivo">Inactivo</option>
                    </select>
                </div>
            </div>
            <hr>
            <div class="form-group">
                <label>Roles</label>
                <div id="roles-container" class="roles-grid"></div>
            </div>
             <div class="form-group">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="es_vendedor" name="es_vendedor">
                    <label class="form-check-label" for="es_vendedor">Marcar como Vendedor</label>
                </div>
            </div>
        </form>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" onclick="cerrarModal('modalFuncionario')">Cancelar</button>
            <button type="button" class="btn btn-sucess" onclick="guardarFuncionario()">Guardar</button>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h2 class="card-title">Gestión de Funcionarios</h2>
        <button class="btn btn-primary" onclick="abrirModalFuncionario()">+ Nuevo Funcionario</button>
    </div>
    <div class="card-body">
        <table class="table">
            <thead><tr><th>Nombre Completo</th><th>Usuario</th><th>Documento</th><th>Cargo</th><th>Estado</th><th>Acciones</th></tr></thead>
            <tbody id="tbodyFuncionarios"></tbody>
        </table>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/rrhh.css') }}">
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/rrhh.js') }}"></script>
{% endblock %}